---
title: Nginx教程由浅入深
date: 2021-04-02 10:23:30
tags:
---

## 介绍

### 基本概念

#### nginx是什么？能做什么？

##### nginx概述

  &#12288;&#12288;Nginx (engine x) 是一个高性能的HTTP和反向代理web服务器，同时也提供了IMAP/POP3/SMTP服务。特点是占有内存少，并发能力强，事实上nginx的并发能力在同类型的网页服务器中表现较好，中国大陆使用nginx网站用户有：百度、京东、新浪、网易、腾讯、淘宝等。

##### nginx作为web服务器

  &#12288;&#12288;nginx可以作为静态页面的web服务器，同时还可以支持CGI协议的动态语言，比如perl、php等。但是不支持java。java程序只能通过于tomcat配合完成。nginx专门为性能优化而开发，性能是其最重要的考量，实际上非常注重效率，能经受高负载的考验，有报告表明能支持高达50，000个并发连接数

#### 反向代理

##### 正向代理概念

  &#12288;&#12288;在客户端（浏览器）配置代理服务器，通过代理服务器进行互联网访问

##### 反向代理概念

  &#12288;&#12288;客户端对反向代理是无感知的，因为客户端不需要任何配置就可以访问，只需要将请求发送到反向代理服务器，由反向代理服务器去选择目标服务器获取数据后，在返回给客户端，此时反向代理服务器和目标服务器对外就是一个服务器，暴露的是代理服务器地址，隐藏了真是服务器IP地址

#### 负载均衡

  &#12288;&#12288;客户端发送多个请求到服务器，服务器处理请求，有一些可能要与数据库进行交互，服务器处理完毕后，再将结果返回给客户端.
  &#12288;&#12288;这种架构模式对于早期的系统相对单一，并发请求相对较少的情况下是比较适合的，成本也低。但是随着信息数量的不断增长，访问量和数据量的飞速增长，以及系统业务的复杂度增加，这种架构会造成服务器相应客户端的请求日益缓慢，并发量特别大的时候，还容易造成服务器直接崩溃。很明显这是由于服务器性能的瓶颈造成的问题，那么如何解决这种情况呢？
  &#12288;&#12288;首先想到的可能是升级服务器的配置，比如提高CPU执行频率，加大内存等提高机器的物理性能来解决此问题，但是我们知道摩尔定理的日益失效，硬件的性能提升已经不能满足日益提升的需求，最明显的一个例子，天猫双十一当天，某个热销商民的瞬时访问量是极其庞大的，那么类似上面的系统架构，将机器都增加到现有的顶级屋里配置，都是不能够满足需求的时候，那怎么办？
  &#12288;&#12288;上面的分析我们去掉了增加服务器物理配置来解决问题的办法，也就是说纵向解决问题的办法行不通了，那么横向增加服务器的数量呢？这时候集群的概念产生了，单个服务器解决不了，我们增加服务器的数量，然后请求分发到各个服务器上，讲原来请求几种到单个服务器上的情况改为将请i去分发到多个服务器山，将负载分发到不同的服务器，也就是我们所说的**负载均衡**

#### 动静分离

  &#12288;&#12288;为了加快网站的解析速度，可以把动态页面和静态页面由不同的服务器来解析，加快解析速度。来降低原来单个服务器的压力

### 安装、常用命令和配置文件

#### nginx操作的常用命令

  1. 使用nginx操作命令前提条件：必须进入nginx的目录中/user/local/nginx/sbin `cd /user/local/nginx/sbin`
  2. 查看nginx的版本号 `./nginx -v`
  3. 启动nginx `./nginx`
  4. 关闭nginx `./nginx -s stop`
  5. 重新加载nginx `./nginx -s reload`
  6. 查看进程 `ps -ef | grep nginx`
  7. 查看文件 `ls`
  8. 打开文件 `vi + 文件名` 示例 vi nginx.conf


## 配置文件

  1.nginx配置文件位置 /user/local/nginx/conf/nginf.conf  `cd /user/local/nginx  => cd conf`

## 配置实例

 未学

### 配置反向代理

 未学

### 配置负载均衡

 未学

### 配置动静分离

 未学

### 配置高可用集群

 未学

## Nginx原理

 未学
